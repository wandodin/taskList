{% extends 'layout.twig' %}

{% block title %}
    Изменение Задачи {{ task.id }}
{% endblock %}

{% block header %}
    Привет, {{ user }}!
{% endblock %}

{% block subheader %}
    Изменение Задачи {{ task.id }}
{% endblock %}

{% block content %}
    {% if form %}
    {% if errorMessage is defined %}
    <div class="alert alert-danger" role="alert">
        <strong>{{ errorMessage }}</strong>
    </div>
    {% endif %}
    <form action="/task/edit/{{ task.id }}" method="post" novalidate>
      <div class="form-group">
        <label for="content">Текст задачи</label>
        <textarea rows="3" class="form-control" id="content" name="content">{{ task.content }}</textarea>
      </div>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="1" name="done" id="done" {% if task.done %}checked{% endif %}>
          <label class="form-check-label" for="done">
            Выполнено
          </label>
        </div>
      </div>
      {% if task.edited %}
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="hidden" value="1" name="edited" id="edited">
        </div>
      </div>
      {% endif %}
      <button type="submit" class="btn btn-dark">Создать</button>
    </form>
    {% else %}
    {% if errorMessage is defined %}
    <div class="alert alert-danger" role="alert">
        <strong>{{ errorMessage }}</strong>
    </div>
    {% endif %}
    {% if successMessage is defined %}
    <div class="alert alert-success" role="alert">
        <strong>{{ successMessage }}</strong>
    </div>
    {% endif %}
    {% endif %}

{% endblock %}